<!doctype html>
<html lang="zh-CN">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>For Yunlin â€” Valentine</title>

<link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=Noto+Serif+SC:wght@300;400;500;600;700&family=Inter:wght@300;400;500;600&family=Crimson+Pro:wght@300;400;500;600&display=swap" rel="stylesheet">

<style>
  :root{
    /* --bg: #FEFDFB;
    --ink: #2A2523;
    --ink-light: #56504B;
    --muted: #A3958A;
    --accent: #BFA26F;
    --accent-deep: #9B7E4E;
    --warm: #EAE1D6; */
/* :root{ */
    --bg: #FAF7F2;              /* æ”¹ï¼šæ›´æ¸©æ¶¦çš„ç±³è‰² */
    --ink: #1C1816;             /* æ”¹ï¼šæ›´æ·±çš„å¢¨é»‘ï¼Œå¯¹æ¯”åº¦æ›´å¼º */
    --ink-light: #48423D;       /* æ”¹ï¼šè°ƒæ·±ä¸€ç‚¹ */
    --muted: #8B7E72;           /* æ”¹ï¼šæ›´é«˜çº§çš„ç°æ£• */
    --accent: #C9A866;          /* æ”¹ï¼šæ›´äº®çš„é‡‘è‰² */
    --accent-deep: #8B6E42;     /* æ”¹ï¼šæ›´æ·±æ²‰çš„é‡‘æ£• */
    --warm: #E8DFD3;            /* æ”¹ï¼šæ›´æŸ”å’Œçš„æš–è‰² */
    
    --moveDur: 6000ms;
    --settleDelay: 1200ms;
    --charDelayCover: 210;
    --charDelayMid: 220;
    --charDelayLong: 298;
    --holdShort: 3000ms;
    --holdMedium: 3600ms;
    --holdLong: 4550ms;
  }

  * { box-sizing: border-box; margin: 0; padding: 0; }
  html, body { height: 100%; }
  
  body {
    margin: 0;
    background: var(--bg);
    color: var(--ink);
    overflow: hidden;
    font-family: "Noto Serif SC", serif;
    -webkit-font-smoothing: antialiased;
    text-rendering: optimizeLegibility;
  }

  .vignette {
    position: fixed;
    inset: 0;
    pointer-events: none;
    background:
      radial-gradient(circle 850px at 18% 28%, rgba(191,162,111,.05), transparent 68%),
      radial-gradient(circle 1000px at 82% 72%, rgba(234,225,214,.08), transparent 65%),
      radial-gradient(ellipse 1500px 1100px at 50% 50%, transparent 45%, rgba(42,37,35,.012) 100%);
    animation: vignette-pulse 14s ease-in-out infinite;
  }

  @keyframes vignette-pulse {
    0%, 100% { opacity: 1; }
    50% { opacity: 0.88; }
  }

  .grain {
    position: fixed;
    inset: -50%;
    pointer-events: none;
    background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='400' height='400'%3E%3Cfilter id='n'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='.58' numOctaves='4' stitchTiles='stitch'/%3E%3C/filter%3E%3Crect width='400' height='400' filter='url(%23n)' opacity='.22'/%3E%3C/svg%3E");
    opacity: .035;
    animation: grain-shift 11s steps(9) infinite;
  }

  @keyframes grain-shift {
    0%, 100% { transform: translate(0, 0) rotate(0deg); }
    25% { transform: translate(-2.5%, -7%) rotate(0.4deg); }
    50% { transform: translate(-7%, 2.5%) rotate(-0.25deg); }
    75% { transform: translate(4%, -4.5%) rotate(0.35deg); }
  }

  .stage {
    height: 100vh;
    width: 700vw;
    display: flex;
    transform: translateX(0);
    transition: transform var(--moveDur) cubic-bezier(.42, .03, .18, 1);
  }

  .scene {
    width: 100vw;
    height: 100vh;
    padding: clamp(55px, 5vw, 85px) clamp(60px, 6vw, 100px);
    position: relative;
    display: grid;
    align-items: center;
    column-gap: clamp(45px, 4.5vw, 75px);
  }

  .layout-center {
    grid-template-columns: 1fr;
    justify-items: center;
  }
  
  .layout-left {
    grid-template-columns: minmax(420px, 520px) 1fr;
  }
  
  .layout-right {
    grid-template-columns: 1fr minmax(420px, 520px);
  }

  .textCol {
    width: 100%;
    max-width: 520px;
    position: relative;
  }

  /* .kicker {
    font-family: "Inter", sans-serif;
    font-size: 10px;
    font-weight: 500;
    letter-spacing: .3em;
    text-transform: uppercase;
    color: var(--accent-deep);
    margin: 0 0 18px 0;
    opacity: 0;
    animation: fade-in-up 1.1s ease forwards;
    animation-delay: 0.25s;
  } */
  .kicker {
    font-family: "Inter", sans-serif;
    font-size: 10.5px;                                     /* æ”¹ï¼šç¨å¤§ */
    font-weight: 600;                                      /* æ”¹ï¼šæ›´ç²— */
    letter-spacing: .35em;                                 /* æ”¹ï¼šå­—è·æ›´å¤§ */
    text-transform: uppercase;
    color: var(--accent-deep);
    margin: 0 0 20px 0;                                    /* æ”¹ï¼šå¢åŠ é—´è· */
    opacity: 0;
    text-shadow: 0 1px 2px rgba(139, 110, 66, .1);       /* æ–°å¢ï¼šé‡‘è‰²å…‰æ™• */
    animation: fade-in-up 1.1s ease forwards;
    animation-delay: 0.25s;
    }

  @keyframes fade-in-up {
    from {
      opacity: 0;
      transform: translateY(6px);
    }
    to {
      opacity: .72;
      transform: translateY(0);
    }
  }

  /* .hairline {
    width: 90px;
    height: 1.8px;
    background: linear-gradient(90deg, var(--accent-deep), var(--accent), transparent);
    margin: 0 0 24px 0;
    opacity: 0;
    animation: line-grow 0.9s ease forwards;
    animation-delay: 0.4s;
    position: relative;
  } */
  .hairline {
    width: 95px;                                           /* æ”¹ï¼šç¨é•¿ */
    height: 2.2px;                                         /* æ”¹ï¼šæ›´ç²— */
    background: linear-gradient(
        90deg, 
        var(--accent-deep) 0%, 
        var(--accent) 45%,                                   /* æ–°å¢ï¼šæ¸å˜ç‚¹ */
        rgba(201, 168, 102, .5) 80%,                        /* æ–°å¢ï¼šæ¸å˜ç‚¹ */
        transparent 100%
    );
    margin: 0 0 28px 0;                                    /* æ”¹ï¼šå¢åŠ é—´è· */
    opacity: 0;
    animation: line-grow 0.9s ease forwards;
    animation-delay: 0.4s;
    position: relative;
    box-shadow: 0 1px 3px rgba(139, 110, 66, .15);       /* æ–°å¢ï¼šé˜´å½± */
    }

  .hairline::after {
    content: '';
    position: absolute;
    left: 0;
    top: 0;
    width: 28%;
    height: 100%;
    background: linear-gradient(90deg, rgba(255,255,255,.5), transparent);
    animation: shimmer 3.5s ease-in-out infinite;
  }

  @keyframes line-grow {
    from {
      opacity: 0;
      transform: scaleX(0);
      transform-origin: left;
    }
    to {
      opacity: .58;
      transform: scaleX(1);
    }
  }

  @keyframes shimmer {
    0%, 100% { transform: translateX(-100%); }
    50% { transform: translateX(420%); }
  }

  /* .type {
    margin: 0 0 20px 0;
    font-size: clamp(15.5px, 1.18vw, 18px);
    line-height: 2.25;
    letter-spacing: .03em;
    color: var(--ink);
    font-weight: 400;
  } */
  .type {
    margin: 0 0 21px 0;                                    /* æ”¹ï¼šå¢åŠ é—´è· */
    font-size: clamp(16px, 1.2vw, 18.5px);                /* æ”¹ï¼šç¨å¾®æ”¾å¤§ */
    line-height: 2.32;                                     /* æ”¹ï¼šå¢åŠ è¡Œé«˜ */
    letter-spacing: .04em;                                 /* æ”¹ï¼šå¢åŠ å­—è· */
    color: var(--ink);
    font-weight: 400;
    text-shadow: 0 0.5px 1.5px rgba(28, 24, 22, .03);    /* æ–°å¢ï¼šå¾®å¦™é˜´å½± */
    }

  .type.cover {
    font-size: clamp(17px, 1.35vw, 21px);
    line-height: 2.45;
    font-weight: 300;
    color: var(--ink-light);
  }

  /* .type.emphasis {
    font-size: clamp(16px, 1.25vw, 19px);
    line-height: 2.35;
    color: var(--ink);
    font-weight: 500;
  } */

  .type.emphasis {
    font-family: "Crimson Pro", "Noto Serif SC", serif;    /* æ–°å¢ï¼šæ›´ä¼˜é›…çš„å­—ä½“ */
    font-size: clamp(17.5px, 1.32vw, 21px);                /* æ”¹ï¼šæ›´å¤§ */
    line-height: 2.5;                                       /* æ”¹ï¼šæ›´ç–æœ— */
    /* color: var(--accent-deep);                              æ”¹ï¼šé‡‘æ£•è‰²å¼ºè°ƒ */
    color: var(--ink-light);
    font-weight: 600;                                       /* æ”¹ï¼šæ›´ç²— */
    font-style: italic;                                     /* æ–°å¢ï¼šä¼˜é›…æ–œä½“ */
    letter-spacing: .025em;                                 /* æ–°å¢ï¼šå­—è· */
    text-shadow: 0 1.5px 4px rgba(139, 110, 66, .18);     /* æ–°å¢ï¼šé‡‘è‰²å…‰æ™• */
    margin-top: 4px;                                        /* æ–°å¢ï¼šä¸ä¸Šæ®µæ‹‰å¼€è·ç¦» */
    }

  .num {
    display: inline-block;
    font-family: "Crimson Pro", serif;
    font-size: 2.5em;
    line-height: 0.82;
    font-weight: 600;
    color: var(--accent-deep);
    margin: 0 .1em;
    position: relative;
    vertical-align: baseline;
    top: -.01em;
    text-shadow: 0 1.5px 10px rgba(191,162,111,.12);
  }

  .ch {
    opacity: 0;
    display: inline-block;
    transition: opacity 1500ms cubic-bezier(.18, .04, .22, 1);
    will-change: opacity;
  }
  
  .ch.on {
    opacity: 1;
  }

  /* .photo {
    justify-self: end;
    width: min(500px, 38vw);
    height: min(65vh, 700px);
    object-fit: cover;
    border-radius: 3px;
    box-shadow: 
      0 1px 2px rgba(0,0,0,.025),
      0 6px 22px rgba(0,0,0,.055),
      0 25px 60px rgba(0,0,0,.07),
      0 50px 100px rgba(0,0,0,.035);
    filter: contrast(.985) saturate(.965) brightness(1.015);
    animation: photo-float 6.5s ease-in-out infinite;
  } */
  .photo {
    justify-self: end;
    /* width: min(500px, 38vw);
    height: min(65vh, 700px); */
    width: min(550px, 42vw);      /* æ”¹ï¼šå®½åº¦å¢åŠ  */
    height: min(72vh, 760px);     /* æ”¹ï¼šé«˜åº¦å¢åŠ  */
    object-fit: cover;
    /* object-position: center 30%; */
    border-radius: 4px;                                    /* æ”¹ï¼šåœ†è§’ç¨å¤§ */
    box-shadow: 
        0 2px 6px rgba(28, 24, 22, .04),                    /* æ”¹ï¼šæ›´è‡ªç„¶ */
        0 8px 28px rgba(28, 24, 22, .09),                   /* æ”¹ï¼šåŠ æ·± */
        0 32px 80px rgba(28, 24, 22, .14),                  /* æ”¹ï¼šæ›´ç«‹ä½“ */
        0 64px 140px rgba(28, 24, 22, .08);                 /* æ”¹ï¼šæ‰©æ•£æ„Ÿ */
    border: 1px solid rgba(255, 255, 255, .6);            /* æ–°å¢ï¼šç»†è¾¹æ¡† */
    filter: contrast(.975) saturate(.95) brightness(1.025); /* æ”¹ï¼šæ›´ç²¾è‡´ */
    animation: photo-float 6.5s ease-in-out infinite;
    }

  @keyframes photo-float {
    0%, 100% { transform: translateY(0) rotate(-1deg); }
    50% { transform: translateY(-7px) rotate(-1.15deg); }
  }

  .photo.tiltL {
    animation: photo-float-left 7.2s ease-in-out infinite;
  }

  .photo.tiltR {
    animation: photo-float-right 6.8s ease-in-out infinite;
  }

  @keyframes photo-float-left {
    0%, 100% { transform: translateY(0) rotate(-1.1deg); }
    50% { transform: translateY(-8px) rotate(-1.3deg); }
  }

  @keyframes photo-float-right {
    0%, 100% { transform: translateY(0) rotate(1deg); }
    50% { transform: translateY(-8px) rotate(1.2deg); }
  }

    /* ç‰¹å®šå›¾ç‰‡çš„æ ·å¼è°ƒæ•´ */
    .scene:nth-child(2) .photo {
    /* ç¬¬ä¸€å¼ å›¾ï¼ˆç¬¬ä¸€æ¬¡ç›¸é‡ï¼‰ */
    object-position: center 55%;  /* è°ƒæ•´æ˜¾ç¤ºä½ç½® */
    }

    .scene:nth-child(3) .photo {
    /* ç¬¬äºŒå¼ å›¾ï¼ˆä¸¤ä¸ªå››å­£ï¼‰ */
    object-position: 45% 45%;


    }

    .scene:nth-child(4) .photo {
    /* ç¬¬ä¸‰å¼ å›¾ï¼ˆè¶Šè¿‡ç«åœºï¼‰ */
    object-position: center center;  /* å±…ä¸­ */
    }

    .scene:nth-child(5) .photo {
    /* ç¬¬å››å¼ å›¾ï¼ˆç”»å¤§é¥¼ï¼‰ */
    object-position: center 40%;
    }

    .scene:nth-child(6) .photo {
    /* ç¬¬äº”å¼ å›¾ï¼ˆä½ æ˜¯æœ€ç‰¹åˆ«çš„å­˜åœ¨ï¼‰ */
    object-position: center 45%;
    }

  .peek {
    position: absolute;
    width: min(180px, 13vw);
    height: min(135px, 15vh);
    object-fit: cover;
    border-radius: 2.5px;
    box-shadow: 0 10px 35px rgba(0,0,0,.035);
    opacity: .22;
    filter: blur(0.9px) saturate(.87);
    animation: peek-drift 22s ease-in-out infinite;
  }

  @keyframes peek-drift {
    0%, 100% { transform: translate(0, 0) rotate(2.3deg); }
    33% { transform: translate(-4px, 7px) rotate(2.5deg); }
    66% { transform: translate(4px, -7px) rotate(2.1deg); }
  }

  .peek.tr {
    top: 7%;
    right: 6.5%;
  }

  .peek.bl {
    bottom: 9%;
    left: 7.5%;
    animation: peek-drift-reverse 19s ease-in-out infinite;
  }

  @keyframes peek-drift-reverse {
    0%, 100% { transform: translate(0, 0) rotate(-2.3deg); }
    33% { transform: translate(4px, -7px) rotate(-2.5deg); }
    66% { transform: translate(-4px, 7px) rotate(-2.1deg); }
  }

  .progress {
    position: fixed;
    right: 26px;
    bottom: 22px;
    font-family: "Inter", sans-serif;
    font-size: 11.5px;
    color: var(--muted);
    letter-spacing: .14em;
    z-index: 3;
    font-weight: 300;
    opacity: 0;
    animation: fade-in 1s ease forwards;
    animation-delay: 1.4s;
  }

  @keyframes fade-in {
    to { opacity: 1; }
  }

  .progress b {
    color: var(--ink);
    font-weight: 500;
    font-size: 13.5px;
    letter-spacing: .09em;
  }

  .overlay {
    position: fixed;
    inset: 0;
    z-index: 99;
    display: flex;
    align-items: center;
    justify-content: center;
    background: rgba(254,253,251,.93);
    backdrop-filter: blur(14px);
  }

  .overlay.hidden {
    display: none;
  }

  .startBox {
    width: min(440px, 86vw);
    border: 1px solid rgba(191,162,111,.18);
    background: rgba(255,255,255,.48);
    padding: 38px 34px 34px;
    border-radius: 18px;
    box-shadow: 
      0 1.5px 6px rgba(0,0,0,.018),
      0 10px 35px rgba(0,0,0,.055),
      0 35px 80px rgba(0,0,0,.038);
    text-align: center;
  }

  .btn {
    display: inline-flex;
    gap: 9px;
    align-items: center;
    justify-content: center;
    cursor: pointer;
    border-radius: 55px;
    padding: 14px 30px;
    border: 1px solid rgba(191,162,111,.32);
    background: linear-gradient(135deg, rgba(255,255,255,.88), rgba(254,253,251,.93));
    color: var(--ink);
    font-family: "Inter", sans-serif;
    font-size: 13px;
    font-weight: 500;
    letter-spacing: .025em;
    transition: all 380ms cubic-bezier(.38, 0, .18, 1);
    box-shadow: 0 1.5px 10px rgba(191,162,111,.1);
  }

  .btn:hover {
    transform: translateY(-2.5px);
    box-shadow: 0 7px 24px rgba(191,162,111,.22);
    border-color: var(--accent);
    background: linear-gradient(135deg, rgba(255,255,255,.98), rgba(254,253,251,1));
  }

  .btn:active {
    transform: translateY(-0.5px);
  }

  .note {
    margin-top: 18px;
    font-family: "Inter", sans-serif;
    font-size: 11px;
    color: var(--muted);
    line-height: 1.65;
    font-weight: 300;
    letter-spacing: .012em;
  }

  .greeting {
    font-weight: 400;
    font-size: 16.5px;
    margin-bottom: 0;
    color: var(--ink);
    letter-spacing: .045em;
  }

  .coverText {
    max-width: 620px;
    text-align: left;
  }

  .spacer {
    height: 42px;
  }

  .spacer-small {
    height: 28px;
  }

  .para-break {
    height: 24px;
  }

  @media (max-width: 980px) {
    body { overflow: auto; }
    .stage { 
      width: 100vw; 
      display: block; 
      transition: none; 
    }
    .scene { 
      width: 100vw; 
      height: auto; 
      min-height: 100vh; 
      grid-template-columns: 1fr; 
      padding: 45px 26px;
    }
    .photo { 
      width: 100%; 
      height: auto; 
      max-height: 48vh; 
      justify-self: start; 
      margin-top: 26px; 
    }
    .peek { display: none; }
    .progress { display: none; }
    .num { font-size: 2.1em; }
  }
</style>
</head>

<body>
<div class="vignette"></div>
<div class="grain"></div>

<audio id="bgm" src="bgm.mp3"></audio>

<div class="overlay" id="overlay">
  <div class="startBox">
    <button class="btn" id="startBtn">
      <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
        <polygon points="5 3 19 12 5 21 5 3"></polygon>
      </svg>
      Play
    </button>
    <div class="note">
      Happy Valentineâ€™s Day<br>
      To My Yunlin Baby
    </div>
  </div>
</div>

<div class="progress" id="progress"><b>01</b> / 07</div>

<div class="stage" id="stage">

  <!-- 1. å°é¢ -->
  <section class="scene layout-center" data-speed="cover" data-hold="medium">
    <div class="textCol coverText">
      <div class="greeting" data-type>äº²çˆ±çš„å°å®ï¼Œ</div>
      
      <div class="spacer" style="height: 35px;"></div>
      
      <p class="type cover" data-type>ä»Šå¤©æ˜¯æˆ‘ä»¬å…±åŒåº¦è¿‡çš„ç¬¬<span class="num">7</span>ä¸ªæƒ…äººèŠ‚ï¼Œ</p>
      
      <p class="type cover" data-type>æ˜¯æˆ‘ä»¬å¼‚å›½åº¦è¿‡çš„ç¬¬<span class="num">4</span>ä¸ªæƒ…äººèŠ‚ï¼Œ</p>
      
      <p class="type cover" data-type>æ˜¯2026å¹´åº¦è¿‡çš„ç¬¬<span class="num">1</span>ä¸ªæƒ…äººèŠ‚ï¼Œ</p>
      
      <p class="type cover" data-type>ä¹Ÿæ˜¯ä½ å®Œæˆå­¦ä¸šè¿ˆå‘æ–°å¾ç¨‹å‰æ‹¥æœ‰çš„æœ€å<span class="num">1</span>ä¸ªæƒ…äººèŠ‚ã€‚</p>

      <div class="spacer" style="height: 45px;"></div>

      <p class="type emphasis" data-type>æˆ‘å¸Œæœ›ï¼Œè¿™ä¸€å¤©å¯¹ä½ æ¥è¯´ï¼Œèƒ½æœ‰æ‰€ä¸åŒã€‚</p>
    </div>
  </section>

  <!-- 2. ç¬¬ä¸€æ¬¡ç›¸é‡ -->
  <section class="scene layout-left" data-speed="mid" data-hold="short">
    <div class="textCol">
      <div class="kicker">2022 Â· 10 Â· 22</div>
      <div class="hairline"></div>
      <p class="type" data-type>2022å¹´10æœˆ22æ—¥ï¼Œæˆ‘ä»¬ç¬¬ä¸€æ¬¡ç›¸é‡ï¼Œé…·å’Œå¤§æ°”æ˜¯æˆ‘å¯¹ä½ çš„ç¬¬ä¸€æ„Ÿè§‰ã€‚</p>
      <div class="para-break"></div>
      <p class="type" data-type>åªé‚£ä¸€çœ¼ï¼Œä½ åœ¨æˆ‘å¿ƒä¸­å·²ç»å æ®äº†ä¸€ä¸ªç‹¬ç‰¹çš„ä½ç½®ï¼Œæˆ‘çš„çœ¼ç›ä¹Ÿå†éš¾ä»ä½ èº«ä¸Šç§»å¼€ã€‚</p>
    </div>
    <img class="photo tiltL" src="photos/p1.jpg" alt="åˆé‡">
  </section>

  <!-- 3. ä¸¤ä¸ªå››å­£ -->
  <section class="scene layout-right" data-speed="long" data-hold="long">
    <img class="peek tr" src="photos/p1.jpg" alt="">
    <img class="photo tiltR" src="photos/p2.jpg" alt="æºæ‰‹">
    <div class="textCol" style="justify-self: end;">
      <div class="kicker">ä¸¤ä¸ªå››å­£</div>
      <div class="hairline"></div>
      <p class="type" data-type>ä¸çŸ¥ä¸è§‰æˆ‘ä»¬å·²ç»åœ¨å¼‚å›½å›¢èšçš„åˆ†åˆ†åˆåˆä¸­æºæ‰‹èµ°è¿‡2ä¸ªå››å­£ï¼Œè¿™ä¸¤å¹´å¤šä»¥æ¥ï¼Œæˆ‘ä»¬éƒ½æœ‰è¿‡æ•°ä¸æ¸…çš„æ— æ¯”ç—›è‹¦çš„ç¬é—´ï¼Œæˆ‘ä»¬å‘ç”Ÿè¿‡æ•°ä¸æ¸…çš„äº‰åµï¼Œæµè¿‡æ•°ä¸æ¸…çš„çœ¼æ³ªï¼Œæˆ‘è®©ä½ ç”Ÿæ°”è¿‡ï¼Œå¤±æœ›è¿‡ï¼ŒæŒ£æ‰è¿‡,ä¹Ÿç—›å“­è¿‡ã€‚</p>
      <div class="para-break"></div>
      <p class="type" data-type>è¿™äº›çœŸå®çš„ç¢°æ’æŠŠæˆ‘æ¶ç‹ ç‹ çš„æ‹½å…¥ç°å®ï¼Œè®©æˆ‘æ„è¯†åˆ°ç»è¥å…³ç³»çš„ä¸æ˜“ï¼Œè®©æˆ‘çœ‹åˆ°å…³ç³»çš„è„†å¼±ï¼Œä½†åŒæ—¶ä¹Ÿè®©æˆ‘ä½“ä¼šåˆ°äº†å…³ç³»æ‰€å¯ä»¥æ‹¥æœ‰çš„å¼¹æ€§ã€‚æˆ‘çŸ¥é“é‚£äº›ä¼¤ç–¤ä¸å®¹æ˜“æŠšå¹³ï¼Œä»–ä»¬ä»ç„¶å°åˆ»åœ¨ä½ æˆ‘çš„å¿ƒä¸­ã€‚</p>
      <div class="para-break"></div>
      <p class="type" data-type>ä½†æ˜¯è¿™ä¸€æ¬¡åµæ¶ä½ å°‘è¯´äº†æˆ‘ä¸€å¥ï¼Œä¸Šä¸€æ¬¡åµæ¶æˆ‘å°‘ä¸ç†ä½ äº†ä¸€ç‚¹ï¼Œè¿™äº›ç‚¹æ»´çš„å˜åŒ–éƒ½æ„æˆäº†æˆ‘èˆä¸å¾—ç¦»å¼€çš„ç†ç”±ã€‚è¿™äº›è‰°éš¾çš„ç‚¹æ»´å˜åŒ–ï¼Œä¼¼ä¹è®©æˆ‘å¾—ä»¥åœ¨å¤¹ç¼ä¸­ä¼¸å‡ºå¤´æ¥ï¼Œçœ‹åˆ°æˆ‘ä»¬ä¹‹é—´çš„ç¾å¥½ï¼Œçœ‹åˆ°ä½ å¯¹æˆ‘çš„ä»˜å‡ºï¼Œå¯¹æˆ‘çš„çˆ±ï¼Œè®©æˆ‘è®°èµ·ä½ å¯¹æˆ‘è¯´è¿‡çš„è¯ï¼Œè®©æˆ‘ä¹Ÿèƒ½å¬åˆ°ä½ çš„ç—›è‹¦å’ŒæŒ£æ‰ã€‚</p>
      <div class="para-break"></div>
      <p class="type emphasis" data-type>è¿™ä¸€æ¡å°å°çš„ç¼éš™ï¼Œä¸çŸ¥ä¸è§‰ä¸­ä¼¼ä¹å½¢æˆäº†ä½ æˆ‘ä¹‹é—´çš„çº½å¸¦ï¼ŒæŠŠæˆ‘ä»¬æ†ç»‘åˆ°äº†ä¸€èµ·ã€‚</p>
    </div>
  </section>

  <!-- 4. è¶Šè¿‡ç«åœº -->
  <section class="scene layout-left" data-speed="long" data-hold="medium">
    <div class="textCol">
      <div class="kicker">è¶Šè¿‡ç«åœº</div>
      <div class="hairline"></div>
      <p class="type" data-type>æˆ‘å–œæ¬¢è¿™æ¡çº½å¸¦çš„æ‹‰æ‰¯ï¼Œå®ƒè®©æˆ‘æ›´å¤šçš„çœ‹åˆ°è‡ªå·±ï¼Œä¹Ÿèƒ½æœ‰æœºä¼šæ›´å¤šçš„çœ‹åˆ°ä½ ã€‚æˆ‘äº²çˆ±çš„å°å®ï¼Œ2024å¹´ç‹¬è‡ªå»å¾€ç¾å›½ï¼Œä¹Ÿå¼€å§‹äº†æˆ‘ä»¬ä¸¤å›½åˆ†å±…çš„ç”Ÿæ´»ã€‚</p>
      <div class="para-break"></div>
      <p class="type" data-type>æˆ‘åœ¨æµ·å²¸è¿™è¾¹ï¼Œæ¯å¤©å¬ç€ä½ çš„è¿‘å†µï¼Œå¬ç€ä½ çš„ç»å†ï¼Œä½ çš„å›°å¢ƒï¼Œä½ çš„æŒ£æ‰ï¼Œæˆ‘ç‚¹ç€å¤´ï¼Œè¯´ç€è¿™çœŸæ˜¯å¤ªè‰°éš¾äº†ã€‚ä½†æ˜¯æˆ‘çœŸçš„èƒ½ç†è§£å’Œä½“ä¼šä½ çš„ç—›è‹¦å—ï¼Ÿæˆ‘åˆæœ‰çœŸçš„ä¸ºä½ åšè¿‡ä¸€äº›ä»€ä¹ˆå—ï¼Ÿ</p>
      <div class="para-break"></div>
      <p class="type emphasis" data-type>å°±å¥½åƒæˆ‘ä¸€ç›´çŸ¥é“ä½ å¯¹ç”Ÿæ—¥çš„åœ¨æ„ï¼Œå´è¿˜æ˜¯å…è®¸ç€è‡ªå·±çš„æ‹–å»¶å…è®¸è‡ªå·±é ç€ç§ç§çš„å€Ÿå£é”™è¿‡ä¸ºä½ é€ä¸Šç¤¼ç‰©çš„æœºä¼šã€‚æˆ‘èŠ±äº†è¿™ä¹ˆé•¿çš„æ—¶é—´æ‰æ„è¯†åˆ°ï¼Œéš”å²¸è§‚ç«æ˜¯å¦‚æ­¤çš„ç®€å•ï¼Œä½†æˆ‘ä¸æƒ³å†åªæ˜¯ç«™åœ¨å²¸è¾¹ï¼Œæˆ‘æƒ³è¶Šè¿‡ç«åœºå»æ‹¥æŠ±ä½ ï¼Œæƒ³ç«™åœ¨ä½ çš„èº«è¾¹ï¼Œè·Ÿä½ ä¸€èµ·ç­ç«ã€‚</p>
    </div>
    <img class="photo tiltL" src="photos/p3.jpg" alt="å¹¶è‚©">
    <img class="peek bl" src="photos/p2.jpg" alt="">
  </section>

  <!-- 5. ç”»å¤§é¥¼ -->
  <section class="scene layout-right" data-speed="long" data-hold="long">
    <img class="photo tiltR" src="photos/p4.jpg" alt="æœªæ¥">
    <img class="peek tr" src="photos/p2.jpg" alt="">
    <div class="textCol" style="justify-self: end;">
      <div class="kicker">ç”»å¤§é¥¼</div>
      <div class="hairline"></div>
      <p class="type" data-type>ä½ è¯´æˆ‘å–œæ¬¢ç”»å¤§é¥¼ï¼Œè¯´æˆ‘è®¸è¯ºäº†å¤ªå¤šä¹Ÿè®¸æ°¸è¿œéƒ½æ— æ³•å®ç°çš„æœªæ¥ï¼Œæˆ‘å›è¿‡å¤´ï¼Œæ‰å‘ç°è‡ªå·±åŸæ¥åšè¿‡è¿™ä¹ˆå¤šçš„ä¿è¯ï¼ŒæœŸè®¸è¿‡è¿™ä¹ˆå¤šè·Ÿä½ çš„æœªæ¥ã€‚</p>
      <div class="para-break"></div>
      <p class="type" data-type>ä½†æ˜¯ä¸åŒçš„æ˜¯ï¼Œåœ¨æˆ‘çœ‹æ¥ï¼Œè¿™äº›éƒ½æ˜¯ç‚¹æ»´çš„å¯¹ä½ çš„çˆ±çš„è®°å½•ã€‚</p>
      <div class="para-break"></div>
      <p class="type emphasis" data-type>æ‰€ä»¥ï¼Œå¯¹ä¸èµ·ï¼Œæˆ‘æƒ³æˆ‘ä¼šç»§ç»­è·Ÿä½ ç”»é¥¼ï¼Œç”»å¾ˆå¤šå¾ˆå¤šçš„é¥¼ï¼Œä¼šæŒç»­ä¸æ–­çš„æ„å»ºè·Ÿä½ çš„æœªæ¥ï¼Œè·Ÿä½ æç»˜æˆ‘ä»¬ç™½å‘è‹è‹å½¼æ­¤æ€æ‰¶ç€èµ°è¿‡é£é›¨çš„æ¨¡æ ·ï¼Œè¿™äº›éƒ½æ˜¯æˆ‘æƒ³è¦ä¸ä½ æºæ‰‹å…±åº¦ä¸€ç”Ÿçš„æ¸´æœ›ï¼Œä¹Ÿæ˜¯æˆ‘æƒ³è¦ä¸ä½ å…±åˆ›ç¾å¥½çš„èª“è¨€ã€‚</p>
    </div>
  </section>

  <!-- 6. ä½ æ˜¯æœ€ç‰¹åˆ«çš„å­˜åœ¨ -->
  <section class="scene layout-left" data-speed="long" data-hold="medium">
    <div class="textCol">
      <div class="kicker">ä½ æ˜¯æœ€ç‰¹åˆ«çš„å­˜åœ¨</div>
      <div class="hairline"></div>
      <p class="type" data-type>æˆ‘æœ€äº²çˆ±çš„å°å­©ï¼Œæœ€ç¾ä¸½çš„å…¬ä¸»ï¼Œæœ€åŠ¨äººçš„ä»™å¥³ï¼Œæœ€é…·çš„å¤§ä½¬ï¼Œæœ€æ…ˆæ‚²æœ€æœ‰æ™ºæ…§æœ€å‹‡æ•¢çš„Yunlinï¼Œ</p>
      <div class="para-break"></div>
      <p class="type emphasis" data-type>æˆ‘æƒ³è·Ÿä½ è¯´ï¼Œä½ æ˜¯è¿™ä¸–ä¸Šæœ€ç‰¹åˆ«çš„å­˜åœ¨ï¼Œä½ ç”Ÿæ¥ä¸éœ€è¦æ»¡è¶³ä»»ä½•äººçš„æœŸå¾…ï¼Œä½ å·²ç»è¶³å¤Ÿå®Œç¾ï¼Œ</p>
      <div class="para-break"></div>
      <p class="type" data-type>éš¾è¿‡çš„æ—¶å€™ä¸å¦‚å°±è®©çœ¼æ³ªè‡ªç„¶çš„è½ä¸‹ï¼Œå¶æ€»ä¼šè½ï¼ŒèŠ±æ€»ä¼šå¼€ï¼Œä¸€åˆ‡éƒ½ä¼šæ˜¯æœ€å¥½çš„å®‰æ’ã€‚</p>
      <div class="para-break"></div>
      <p class="type emphasis" data-type>æˆ‘ä¼šä¸€ç›´åœ¨ä½ èº«è¾¹ï¼Œç‰µç€ä½ çš„æ‰‹ï¼Œè·Ÿä½ ä¸€èµ·èµ°è¿‡èŠ±å¼€èŠ±è½ï¼Œä¸€èµ·åˆ›é€ å±äºæˆ‘ä»¬çš„æœªæ¥ã€‚</p>
    </div>
    <img class="photo tiltR" src="photos/p5.jpg" alt="ç¾å¥½">
    <img class="peek bl" src="photos/p3.jpg" alt="">
  </section>

  <!-- 7. ç»“å°¾ -->
  <section class="scene layout-center" data-speed="cover" data-hold="long">
    <div class="textCol coverText">
      <div class="hairline"></div>
      <p class="type cover" data-type>å¸Œæœ›æˆ‘ä»¬åœ¨ç›¸é€¢å¤„å†æ¬¡ç›¸é‡ï¼Œ</p>
      <div class="para-break"></div>
      <p class="type cover" data-type>æˆ‘äº²çˆ±çš„Yunlinå®å®ï¼Œ</p>
      <div class="para-break"></div>
      <p class="type emphasis" data-type>ç¥æˆ‘ä»¬ç¬¬7ä¸ªæƒ…äººèŠ‚ï¼ŒèŠ‚æ—¥å¿«ä¹ ğŸŒ¹</p>
      
      <div class="spacer"></div>
      
      <div class="kicker" style="letter-spacing: .16em; opacity: .6;">â€” END â€”</div>
    </div>
  </section>
  <!-- ========== æ–°å¢ï¼šé‡æ–°æ’­æ”¾æŒ‰é’® ========== -->
  <button id="replayBtn" style="
    position: fixed;
    bottom: 50px;
    right: 50px;
    padding: 16px 40px;
    background: linear-gradient(135deg, var(--accent-deep), var(--accent));
    color: #FFFFFF;
    border: none;
    border-radius: 30px;
    font-family: 'Noto Serif SC', serif;
    font-size: 16px;
    font-weight: 600;
    cursor: pointer;
    opacity: 0;
    pointer-events: none;
    transition: all 0.5s cubic-bezier(0.34, 1.56, 0.64, 1);
    box-shadow: 
      0 4px 16px rgba(139, 110, 66, .3),
      0 8px 32px rgba(139, 110, 66, .2);
    z-index: 10000;
    letter-spacing: .08em;
    transform: translateY(10px);
  " 
  onmouseover="
    this.style.transform = 'translateY(0) scale(1.05)';
    this.style.boxShadow = '0 6px 24px rgba(139, 110, 66, .4), 0 12px 48px rgba(139, 110, 66, .3)';
  " 
  onmouseout="
    this.style.transform = 'translateY(0) scale(1)';
    this.style.boxShadow = '0 4px 16px rgba(139, 110, 66, .3), 0 8px 32px rgba(139, 110, 66, .2)';
  ">
    ğŸ”„ é‡æ–°æ’­æ”¾
  </button>
  <!-- ========== ç»“æŸ ========== -->

</div>

<script>
  const stage = document.getElementById('stage');
  const overlay = document.getElementById('overlay');
  const startBtn = document.getElementById('startBtn');
  const bgm = document.getElementById('bgm');
  const progress = document.getElementById('progress');
  const scenes = Array.from(document.querySelectorAll('.scene'));

  bgm.volume = 0.30;

  function splitToChars(el) {
    const raw = el.innerHTML;
    const tempDiv = document.createElement('div');
    tempDiv.innerHTML = raw;
    
    el.innerHTML = '';
    
    function processNode(node, parent) {
      if (node.nodeType === Node.TEXT_NODE) {
        const text = node.textContent;
        for (const ch of text) {
          if (ch === '\n') {
            parent.appendChild(document.createElement('br'));
          } else {
            const span = document.createElement('span');
            span.className = 'ch';
            span.textContent = ch === ' ' ? '\u00A0' : ch;
            parent.appendChild(span);
          }
        }
      } else if (node.nodeType === Node.ELEMENT_NODE) {
        const clone = node.cloneNode(false);
        Array.from(node.childNodes).forEach(child => processNode(child, clone));
        parent.appendChild(clone);
      }
    }
    
    Array.from(tempDiv.childNodes).forEach(child => processNode(child, el));
  }

  document.querySelectorAll('[data-type]').forEach(splitToChars);

  function pad2(n) {
    return String(n).padStart(2, '0');
  }

  function getSceneSpeed(scene) {
    const type = scene.getAttribute('data-speed');
    const root = getComputedStyle(document.documentElement);
    if (type === 'cover') return parseInt(root.getPropertyValue('--charDelayCover')) || 85;
    if (type === 'long') return parseInt(root.getPropertyValue('--charDelayLong')) || 45;
    return parseInt(root.getPropertyValue('--charDelayMid')) || 65;
  }

  function getHold(scene) {
    const type = scene.getAttribute('data-hold');
    const root = getComputedStyle(document.documentElement);
    if (type === 'short') return parseInt(root.getPropertyValue('--holdShort')) || 3500;
    if (type === 'medium') return parseInt(root.getPropertyValue('--holdMedium')) || 5500;
    return parseInt(root.getPropertyValue('--holdLong')) || 7500;
  }

  async function revealChars(el, perChar) {
    const spans = Array.from(el.querySelectorAll('.ch'));
    spans.forEach(s => s.classList.remove('on'));
    
    for (let i = 0; i < spans.length; i++) {
      spans[i].classList.add('on');
      await new Promise(r => setTimeout(r, perChar));
    }
  }

  function moveTo(i) {
    stage.style.transform = `translateX(-${i * 100}vw)`;
    progress.innerHTML = `<b>${pad2(i + 1)}</b> / 07`;
  }

  let running = false;
  let idx = 0;

  async function playFrom(start = 1000) {
    running = true;
    
    for (let i = start; i < scenes.length; i++) {
      idx = i;
      moveTo(i);

      const root = getComputedStyle(document.documentElement);
      const settle = parseInt(root.getPropertyValue('--settleDelay')) || 1000;
      await new Promise(r => setTimeout(r, settle));

      const currentSceneBlocks = Array.from(scenes[i].querySelectorAll('[data-type]'));
      const perChar = getSceneSpeed(scenes[i]);
      
      for (let j = 0; j < currentSceneBlocks.length; j++) {
        await revealChars(currentSceneBlocks[j], perChar);
        if (j < currentSceneBlocks.length - 1) {
          await new Promise(r => setTimeout(r, 500));
        }
      }

      const hold = getHold(scenes[i]);
      await new Promise(r => setTimeout(r, hold));
    }

    // 1. åœæ­¢éŸ³ä¹
    bgm.pause();
    bgm.currentTime = 0;  // é‡ç½®åˆ°å¼€å¤´ï¼Œæ–¹ä¾¿ä¸‹æ¬¡æ’­æ”¾
    
    // 2. é€€å‡ºå…¨å±
    try {
        if (document.exitFullscreen) {
        await document.exitFullscreen();
        } else if (document.webkitExitFullscreen) {
        await document.webkitExitFullscreen();
        } else if (document.msExitFullscreen) {
        await document.msExitFullscreen();
        }
    } catch (e) {
        console.log('é€€å‡ºå…¨å±å¤±è´¥ï¼Œå¯èƒ½ä¸åœ¨å…¨å±çŠ¶æ€');
    }
    
    // 3. æ˜¾ç¤ºé‡æ–°æ’­æ”¾æŒ‰é’®
    const replayBtn = document.getElementById('replayBtn');
    if (replayBtn) {
        replayBtn.style.opacity = '1';
        replayBtn.style.pointerEvents = 'auto';
    }
    
    // ========== ç»“æŸ ========== 
    
    running = false;
  }

  async function tryPlayMusic() {
    try {
      await bgm.play();
    } catch (e) {
      console.log('éŸ³ä¹éœ€è¦ç”¨æˆ·äº¤äº’æ‰èƒ½æ’­æ”¾');
    }
  }

  async function enterFullscreen() {
    try {
      const elem = document.documentElement;
      if (elem.requestFullscreen) {
        await elem.requestFullscreen();
      } else if (elem.webkitRequestFullscreen) {
        await elem.webkitRequestFullscreen();
      } else if (elem.msRequestFullscreen) {
        await elem.msRequestFullscreen();
      }
    } catch (e) {
      console.log('å…¨å±å¤±è´¥ï¼Œç»§ç»­æ’­æ”¾');
    }
  }

  startBtn.addEventListener('click', async () => {
    overlay.style.display = 'none';
    await enterFullscreen();
    await tryPlayMusic();
    playFrom(0);
  });

  window.addEventListener('keydown', async (e) => {
    if (overlay.style.display !== 'none') return;
    if (running) return;
    
    if (e.key === 'ArrowRight') {
      idx = Math.min(scenes.length - 1, idx + 1);
      playFrom(idx);
    }
    if (e.key === 'ArrowLeft') {
      idx = Math.max(0, idx - 1);
      playFrom(idx);
    }
  });

  const replayBtn = document.getElementById('replayBtn');
  if (replayBtn) {
    replayBtn.addEventListener('click', async () => {
      // éšè—æŒ‰é’®
      replayBtn.style.opacity = '0';
      replayBtn.style.pointerEvents = 'none';
      
      // è¿›å…¥å…¨å±
      await enterFullscreen();
      
      // é‡ç½®éŸ³ä¹å¹¶æ’­æ”¾
      bgm.currentTime = 0;
      await tryPlayMusic();
      
      // ä»å¤´å¼€å§‹æ’­æ”¾
      idx = 0;
      playFrom(0);
    });
  }

</script>
</body>
</html>